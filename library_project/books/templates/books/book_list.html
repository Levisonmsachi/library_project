{% extends 'books/base.html' %}

{% block title %}All Books - Library{% endblock %}

{% block content %}
<h1>All Books in Library</h1>

<form method="get" style="margin-bottom: 15px;">
    <input type="text" name="search" placeholder="Search by title..." 
           value="{{ request.GET.search|default:'' }}">
    <button type="submit">Search</button>
</form>

<div style="margin: 20px 0; padding: 10px; background: #f5f5f5;">
    <strong>Filter:</strong>
    <a href="?">All</a> | 
    <a href="?status=available">Available Only</a> | 
    <a href="?status=checked_out">Checked Out</a>
</div>

{% if books %}
    <p>Found {{ books|length }} books:</p>
    
    {% for book in books %}
        <div style="border: 1px solid #ddd; padding: 15px; margin: 10px 0;">
            <h3><a href="{% url 'book_detail' book.pk %}">{{ book.title }}</a></h3>
            <p><strong>Author:</strong> {{ book.author }}</p>
            <p><strong>Status:</strong> 
                {% if book.is_available %}
                    <span style="color: green;">Available ✓</span>
                {% else %}
                    <span style="color: red;">Checked Out ✗</span>
                {% endif %}
            </p>
        </div>
    {% endfor %}
{% else %}
    <p>No books in the library yet.</p>
{% endif %}

<br/>
<a href="{% url 'home' %}">← Back to Home</a>

{% endblock %}